# Copyright 2007 Bryan Ã˜stergaard <kloeri@exherbo.org>
# Copyright 2008 Saleem Abdulrasool <compnerd@compnerd.org>
# Distributed under the terms of the GNU General Public License v2

require gnome.org multilib

SUMMARY="The GLib library of C routines"
HOMEPAGE="http://www.gnome.org"

LICENCES="GPL-2"
SLOT="2"
PLATFORMS="~amd64 ~ia64 ~x86"
MYOPTIONS="fam"

DEPENDENCIES="
    build+run:
        fam? ( app-admin/gamin )
    build:
        >=sys-devel/gettext-0.11
        >=dev-util/pkg-config-0.16"

DEFAULT_SRC_CONFIGURE_OPTION_ENABLES=( fam )
DEFAULT_SRC_CONFIGURE_PARAMS=( '--enable-static' '--with-threads=posix' )

src_install() {
    default

    # libiconv provides the character set aliases
    rm -f "${IMAGE}/usr/$(get_libdir)/charset.alias" || die
}
