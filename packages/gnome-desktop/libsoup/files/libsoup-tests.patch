From d3bf9a402bbd3b746ed5f0f8a46c0fb453c0e24f Mon Sep 17 00:00:00 2001
From: Marvin Schmidt <marvin_schmidt@gmx.net>
Date: Sun, 30 Aug 2009 17:37:30 +0200
Subject: [PATCH] Fix timeout-test without SSL support
Upstream: Yes, http://git.gnome.org/cgit/libsoup/commit/?id=43aa9aa94ba426886902544092abb10a938794b0

---
 tests/timeout-test.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/tests/timeout-test.c b/tests/timeout-test.c
index 73cad70..663df8e 100644
--- a/tests/timeout-test.c
+++ b/tests/timeout-test.c
@@ -99,6 +99,7 @@ main (int argc, char **argv)
 	g_free (fast_uri);
 	g_free (slow_uri);
 
+#ifdef HAVE_SSL
 	debug_printf (1, "https\n");
 	server = soup_test_server_new_ssl (TRUE);
 	soup_server_add_handler (server, NULL, server_handler, NULL, NULL);
@@ -109,6 +110,7 @@ main (int argc, char **argv)
 	do_timeout_tests (fast_uri, slow_uri);
 	g_free (fast_uri);
 	g_free (slow_uri);
+#endif
 
 	test_cleanup ();
 	return errors != 0;
-- 
1.6.4.1

